<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>津云大屏数据</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>
<body>
  <div id="app">APPLICATION CONTENT</div>

  <script>__REACT_DEVTOOLS_GLOBAL_HOOK__ = parent.__REACT_DEVTOOLS_GLOBAL_HOOK__</script>
  <script type="text/javascript" src="/public/BMapApi.v2_min.js"></script>
  <script type="text/javascript" src="/public/TextIconOverlay_min.js"></script>
  <script type="text/javascript" src="/public/MarkerCluster.js"></script>
  <script type="text/javascript" src="/public/Heatmap_min.js"></script>
  <script type="text/javascript" src="/public/InfoBox_min.js"></script>
  <script type="text/javascript" src="/assets/app.js?v=3cf77ab0e5549ec18e06"></script>
  <script type="text/javascript">
    // 需要适配的dom容器
    var dom = document.getElementById('app');
    // 初始化宽度
    var width = 4800;
    // 初始化高度
    var height = 3240;
    var radio = width / height;

    // 获取路由
    function getRouter(){
      return true;
    }

    // 适配
    function fit(dom){
      var hash = getRouter();
      if(!hash || hash == '#/'){
        dom.style.cssText = '';
        document.body.style.cssText = '';
        return;
      }
      document.body.style.backgroundColor = '#000';
      var W = window.innerWidth;
      var H = window.innerHeight;
      var r = 1, x = 0, y = 0;
      if(W / H < radio){
        r = W / width;
        y = Math.floor((H - height * r) / 2);
      } else {
        r = H / height;
        x = Math.floor((W - width * r) / 2);
      }

      console.log('*********', dom)
      console.log('---------', W, H)
      console.log('=========', x, y, r)

      dom.style.position = 'absolute';
      dom.style.top = y + 'px';
      dom.style.left = x + 'px';
      dom.style.transformOrigin = 'left top';
      dom.style.transform = 'scale(' + r + ',' + r + ')';
    }

    fit(dom);
    window.addEventListener('resize', function(){ fit(dom) });
//    window.addEventListener('hashchange', function(){ fit(dom) });

  </script>
</body>
</html>
